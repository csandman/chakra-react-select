{"version":3,"file":"multi-value.js","names":["_react","_interopRequireDefault","require","_icon","_layout","_system","_utils","obj","__esModule","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","hasColorScheme","option","colorScheme","hasVariant","variant","hasIsFixed","isFixed","MultiValue","props","children","className","components","cx","data","innerProps","isDisabled","isFocused","removeProps","selectProps","cropWithEllipsis","Container","Label","Remove","chakraStyles","tagVariant","sizeProp","size","useSize","optionColorScheme","optionVariant","optionIsFixed","tagStyles","useMultiStyleConfig","containerInitialSx","container","display","alignItems","minWidth","margin","containerSx","multiValue","labelInitialSx","label","overflow","textOverflow","undefined","whiteSpace","labelSx","multiValueLabel","removeInitialSx","closeButton","justifyContent","removeSx","multiValueRemove","createElement","sx","MultiValueContainer","chakra","span","exports","MultiValueLabel","TagCloseIcon","Icon","verticalAlign","viewBox","fill","d","MultiValueRemove","Box","role","_default"],"sources":["../../../src/chakra-components/multi-value.tsx"],"sourcesContent":["import React from \"react\";\nimport type { IconProps } from \"@chakra-ui/icon\";\nimport { Icon } from \"@chakra-ui/icon\";\nimport { Box } from \"@chakra-ui/layout\";\nimport type { SystemStyleObject } from \"@chakra-ui/system\";\nimport { chakra, useMultiStyleConfig } from \"@chakra-ui/system\";\nimport type {\n  GroupBase,\n  MultiValueGenericProps,\n  MultiValueProps,\n  MultiValueRemoveProps,\n} from \"react-select\";\nimport { useSize } from \"../utils\";\n\nconst hasColorScheme = (option: unknown): option is { colorScheme: string } =>\n  typeof option === \"object\" &&\n  option !== null &&\n  \"colorScheme\" in option &&\n  typeof option.colorScheme === \"string\";\n\nconst hasVariant = (option: unknown): option is { variant: string } =>\n  typeof option === \"object\" &&\n  option !== null &&\n  \"variant\" in option &&\n  typeof option.variant === \"string\";\n\nconst hasIsFixed = (option: unknown): option is { isFixed: boolean } =>\n  typeof option === \"object\" &&\n  option !== null &&\n  \"isFixed\" in option &&\n  typeof option.isFixed === \"boolean\";\n\nconst MultiValue = <\n  Option = unknown,\n  IsMulti extends boolean = boolean,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  props: MultiValueProps<Option, IsMulti, Group>\n) => {\n  const {\n    children,\n    className,\n    components,\n    cx,\n    data,\n    innerProps,\n    isDisabled,\n    isFocused,\n    removeProps,\n    selectProps,\n    cropWithEllipsis,\n  } = props;\n\n  const { Container, Label, Remove } = components;\n\n  const { chakraStyles, colorScheme, tagVariant, size: sizeProp } = selectProps;\n\n  const size = useSize(sizeProp);\n\n  let optionColorScheme = \"\";\n  let optionVariant = \"\";\n  let optionIsFixed = false;\n\n  if (hasColorScheme(data)) {\n    optionColorScheme = data.colorScheme;\n  }\n\n  if (hasVariant(data)) {\n    optionVariant = data.variant;\n  }\n\n  if (hasIsFixed(data)) {\n    optionIsFixed = data.isFixed;\n  }\n\n  const tagStyles = useMultiStyleConfig(\"Tag\", {\n    size,\n    colorScheme: optionColorScheme || colorScheme,\n    variant:\n      optionVariant || tagVariant || (optionIsFixed ? \"solid\" : \"subtle\"),\n  });\n\n  const containerInitialSx: SystemStyleObject = {\n    ...tagStyles.container,\n    display: \"flex\",\n    alignItems: \"center\",\n    minWidth: 0, // resolves flex/text-overflow bug\n    margin: \"0.125rem\",\n  };\n  const containerSx: SystemStyleObject = chakraStyles?.multiValue\n    ? chakraStyles.multiValue(containerInitialSx, props)\n    : containerInitialSx;\n\n  const labelInitialSx: SystemStyleObject = {\n    ...tagStyles.label,\n    overflow: \"hidden\",\n    textOverflow:\n      cropWithEllipsis || cropWithEllipsis === undefined\n        ? \"ellipsis\"\n        : undefined,\n    whiteSpace: \"nowrap\",\n  };\n  const labelSx = chakraStyles?.multiValueLabel\n    ? chakraStyles.multiValueLabel(labelInitialSx, props)\n    : labelInitialSx;\n\n  const removeInitialSx: SystemStyleObject = {\n    ...tagStyles.closeButton,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  };\n  const removeSx = chakraStyles?.multiValueRemove\n    ? chakraStyles.multiValueRemove(removeInitialSx, props)\n    : removeInitialSx;\n\n  return (\n    <Container\n      data={data}\n      innerProps={{\n        className: cx(\n          {\n            \"multi-value\": true,\n            \"multi-value--is-disabled\": isDisabled,\n          },\n          className\n        ),\n        ...innerProps,\n      }}\n      sx={containerSx}\n      selectProps={selectProps}\n    >\n      <Label\n        data={data}\n        innerProps={{\n          className: cx(\n            {\n              \"multi-value__label\": true,\n            },\n            className\n          ),\n        }}\n        sx={labelSx}\n        selectProps={selectProps}\n      >\n        {children}\n      </Label>\n      <Remove\n        data={data}\n        innerProps={{\n          className: cx(\n            {\n              \"multi-value__remove\": true,\n            },\n            className\n          ),\n          \"aria-label\": `Remove ${children || \"option\"}`,\n          ...removeProps,\n        }}\n        sx={removeSx}\n        selectProps={selectProps}\n        isFocused={isFocused}\n      />\n    </Container>\n  );\n};\n\nconst MultiValueContainer = <\n  Option = unknown,\n  IsMulti extends boolean = boolean,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  props: MultiValueGenericProps<Option, IsMulti, Group>\n) => {\n  const { children, innerProps, sx } = props;\n\n  return (\n    <chakra.span {...innerProps} sx={sx}>\n      {children}\n    </chakra.span>\n  );\n};\n\nconst MultiValueLabel = <\n  Option = unknown,\n  IsMulti extends boolean = boolean,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  props: MultiValueGenericProps<Option, IsMulti, Group>\n) => {\n  const { children, innerProps, sx } = props;\n\n  return (\n    <chakra.span {...innerProps} sx={sx}>\n      {children}\n    </chakra.span>\n  );\n};\n\n/**\n * Borrowed from Chakra UI Tag source\n *\n * @see {@link https://github.com/chakra-ui/chakra-ui/blob/13c6d2e08b61e179773be4722bb81173dd599306/packages/tag/src/tag.tsx#L75}\n */\nconst TagCloseIcon = (props: IconProps) => (\n  <Icon verticalAlign=\"inherit\" viewBox=\"0 0 512 512\" {...props}>\n    <path\n      fill=\"currentColor\"\n      d=\"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z\"\n    />\n  </Icon>\n);\n\nconst MultiValueRemove = <\n  Option = unknown,\n  IsMulti extends boolean = boolean,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  props: MultiValueRemoveProps<Option, IsMulti, Group>\n) => {\n  const { children, innerProps, isFocused, data, sx } = props;\n\n  if (hasIsFixed(data) && data.isFixed) {\n    return null;\n  }\n\n  return (\n    <Box\n      {...innerProps}\n      role=\"button\"\n      sx={sx}\n      data-focus={isFocused ? true : undefined}\n      data-focus-visible={isFocused ? true : undefined}\n    >\n      {children || <TagCloseIcon />}\n    </Box>\n  );\n};\n\nexport { MultiValueContainer, MultiValueLabel, MultiValueRemove };\nexport default MultiValue;\n"],"mappings":"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"}