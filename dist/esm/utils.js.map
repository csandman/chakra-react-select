{"version":3,"file":"utils.js","names":["useBreakpointValue","useTheme","cleanCommonProps","props","className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme","innerProps","_objectWithoutPropertiesLoose","_excluded","_extends","isSize","size","isString","includes","getDefaultSize","useSize","chakraTheme","defaultSize","components","Input","defaultProps","definedSize","realSize","fallback"],"sources":["../../src/utils.ts"],"sourcesContent":["import { useBreakpointValue } from \"@chakra-ui/media-query\";\nimport { useTheme } from \"@chakra-ui/system\";\nimport type { CommonPropsAndClassName, GroupBase } from \"react-select\";\nimport type { Size, SizeProp } from \"./types\";\n\n/**\n * Clean Common Props\n *\n * Borrowed from the original `react-select` package\n *\n * @see {@link https://github.com/JedWatson/react-select/blob/edf5265ee0158c026c9e8527a6d0490a5ac2ef23/packages/react-select/src/utils.ts#L75-L110}\n */\nexport const cleanCommonProps = <\n  Option,\n  IsMulti extends boolean,\n  Group extends GroupBase<Option>,\n  AdditionalProps\n>(\n  props: Partial<CommonPropsAndClassName<Option, IsMulti, Group>> &\n    AdditionalProps\n): Omit<\n  AdditionalProps,\n  keyof CommonPropsAndClassName<Option, IsMulti, Group>\n> => {\n  // className\n  const {\n    className, // not listed in commonProps documentation, needs to be removed to allow Emotion to generate classNames\n    clearValue,\n    cx,\n    getStyles,\n    getClassNames,\n    getValue,\n    hasValue,\n    isMulti,\n    isRtl,\n    options, // not listed in commonProps documentation\n    selectOption,\n    selectProps,\n    setValue,\n    theme, // not listed in commonProps documentation\n    ...innerProps\n  } = props;\n  return { ...innerProps };\n};\n\n/** A typeguard to ensure the default size on the Input component is valid. */\nconst isSize = (size: unknown): size is Size => {\n  const isString = typeof size === \"string\";\n  return isString && [\"sm\", \"md\", \"lg\"].includes(size);\n};\n\nconst getDefaultSize = (size: unknown): Size => {\n  if (isSize(size)) {\n    return size;\n  }\n\n  if (size === \"xs\") {\n    return \"sm\";\n  }\n\n  // This shouldn't be necessary but it might help the size get closer to the\n  // user's goal if they have `xl` as a custom size.\n  if (size === \"xl\") {\n    return \"lg\";\n  }\n\n  return \"md\";\n};\n\nexport const useSize = (size: SizeProp | undefined): Size => {\n  const chakraTheme = useTheme();\n  const defaultSize = getDefaultSize(\n    chakraTheme.components.Input.defaultProps.size\n  );\n\n  // Ensure that the size used is one of the options, either `sm`, `md`, or `lg`\n  const definedSize: SizeProp = size ?? defaultSize;\n  // Or, if a breakpoint is passed, get the size based on the current screen size\n  const realSize: Size =\n    useBreakpointValue<Size>(\n      typeof definedSize === \"string\" ? [definedSize] : definedSize,\n      {\n        fallback: \"md\",\n      }\n    ) || defaultSize;\n\n  return realSize;\n};\n"],"mappings":";;;AAAA,SAASA,kBAAkB,QAAQ,wBAAwB;AAC3D,SAASC,QAAQ,QAAQ,mBAAmB;AAI5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAM3BC,KACiB,EAId;EACH;EACA,IACEC,SAAS,GAePD,KAAK,CAfPC,SAAS;IACTC,UAAU,GAcRF,KAAK,CAdPE,UAAU;IACVC,EAAE,GAaAH,KAAK,CAbPG,EAAE;IACFC,SAAS,GAYPJ,KAAK,CAZPI,SAAS;IACTC,aAAa,GAWXL,KAAK,CAXPK,aAAa;IACbC,QAAQ,GAUNN,KAAK,CAVPM,QAAQ;IACRC,QAAQ,GASNP,KAAK,CATPO,QAAQ;IACRC,OAAO,GAQLR,KAAK,CARPQ,OAAO;IACPC,KAAK,GAOHT,KAAK,CAPPS,KAAK;IACLC,OAAO,GAMLV,KAAK,CANPU,OAAO;IACPC,YAAY,GAKVX,KAAK,CALPW,YAAY;IACZC,WAAW,GAITZ,KAAK,CAJPY,WAAW;IACXC,QAAQ,GAGNb,KAAK,CAHPa,QAAQ;IACRC,KAAK,GAEHd,KAAK,CAFPc,KAAK;IACFC,UAAU,GAAAC,6BAAA,CACXhB,KAAK,EAAAiB,SAAA;EACT,OAAAC,QAAA,KAAYH,UAAU;AACxB,CAAC;;AAED;AACA,IAAMI,MAAM,GAAG,SAATA,MAAMA,CAAIC,IAAa,EAAmB;EAC9C,IAAMC,QAAQ,GAAG,OAAOD,IAAI,KAAK,QAAQ;EACzC,OAAOC,QAAQ,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACC,QAAQ,CAACF,IAAI,CAAC;AACtD,CAAC;AAED,IAAMG,cAAc,GAAG,SAAjBA,cAAcA,CAAIH,IAAa,EAAW;EAC9C,IAAID,MAAM,CAACC,IAAI,CAAC,EAAE;IAChB,OAAOA,IAAI;EACb;EAEA,IAAIA,IAAI,KAAK,IAAI,EAAE;IACjB,OAAO,IAAI;EACb;;EAEA;EACA;EACA,IAAIA,IAAI,KAAK,IAAI,EAAE;IACjB,OAAO,IAAI;EACb;EAEA,OAAO,IAAI;AACb,CAAC;AAED,OAAO,IAAMI,OAAO,GAAG,SAAVA,OAAOA,CAAIJ,IAA0B,EAAW;EAC3D,IAAMK,WAAW,GAAG3B,QAAQ,EAAE;EAC9B,IAAM4B,WAAW,GAAGH,cAAc,CAChCE,WAAW,CAACE,UAAU,CAACC,KAAK,CAACC,YAAY,CAACT,IAAI,CAC/C;;EAED;EACA,IAAMU,WAAqB,GAAGV,IAAI,WAAJA,IAAI,GAAIM,WAAW;EACjD;EACA,IAAMK,QAAc,GAClBlC,kBAAkB,CAChB,OAAOiC,WAAW,KAAK,QAAQ,GAAG,CAACA,WAAW,CAAC,GAAGA,WAAW,EAC7D;IACEE,QAAQ,EAAE;EACZ,CAAC,CACF,IAAIN,WAAW;EAElB,OAAOK,QAAQ;AACjB,CAAC"}